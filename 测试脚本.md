# 测试脚本

## 获取项目

```terminal
git clone https://github.com/Captain-Paul/IS_SupplyChainSystem.git
```

## 添加测试数据

在后端服务器命令行中**依次**输入以下指令，自动生成测试数据

```terminal
python manage.py addgroups
python manage.py addtestusers
python manage.py addtestkpi
python manage.py addgoods
python manage.py addwh
python manage.py addstock
python manage.py addbuy
python manage.py addtransportation
python manage.py addtransfer
python manage.py addout
python manage.py addorder
```

## 启动后端服务器

在命令行中输入以下指令

```terminal
cd <your_directory>\IS_SupplyChainSystem\SupplyChainSystem>
python manage.py runserver
```

```terminal
 DONE  Compiled successfully in 13000ms                                                                   


  App running at:
  - Local:   http://localhost:8080/
  - Network: http://10.192.106.153:8080/

  Note that the development build is not optimized.
  To create a production build, run npm run build.
```

## 启动前端服务器

在前端服务器命令行中输入以下指令

```python
cd <your_directory>\IS_SupplyChainSystem\frontend
npm run serve
```

```terminal
Watching for file changes with StatReloader
Performing system checks...

System check identified no issues (0 silenced).
June 06, 2023 - 23:25:57
Django version 4.1.9, using settings 'SupplyChainSystem.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CTRL-BREAK.
```

## 用户登录

测试用户

| 用户名    | 岗位       | 密码   |
| --------- | ---------- | ------ |
| staff0001 | 人事管理员 | 123456 |
| staff0002 | 运输管理员 | 123456 |
| staff0003 | 财务管理员 | 123456 |
| staff0004 | 销售管理员 | 123456 |
| staff0005 | 库存管理员 | 123456 |

## 数据操作

### 未登录用户/非本部门管理员

1. 在顶部导航栏选择**部门**：简略查看所有信息
2. 输入**编号**：查询编码为为某一值的信息

### 销售管理员（添加订单会影响库存，增加运输记录）

1. 在侧边导航栏点击**订单详情**：查看订单信息，
2. **输入订单号**：筛选订单信息
3. 点击**添加订单**，输入相应信息，点击**提交**：添加订单，可相应查看库存信息表和运输记录表的改动

| 交易编码 | 出库编码 | 货物编码 | 生效日期 | 订单数量 | 实际售价 | 客户姓名 | 客户电话 | 客户地址 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| 23060301 | OUT1     | F2023001 | （任选） | （任选） | （任选） | （选填） | （选填） | （任选） |

3. 点击**订单修改**，输入相应信息，点击**提交**：修改订单

| 订单编号    | 订单数量 | 实际售价 | 客户姓名 | 电话      | 地址     |
| ----------- | -------- | -------- | -------- | --------- | -------- |
| 2023-06-062 | （任选） | （任选） | zsh      | 123456789 | （任选） |

### 库存管理员

1. 在侧边导航栏点击**仓库详情**：查看仓库信息、、现有库存、出库记录、采购记录

2. **输入仓库编号**：筛选仓库信息

3. 在侧边导航栏点击**仓库详情**

    (1) 点击**货物详情**：查看货物信息

    (2) **输入货物编号**：筛选货物信息

    (3) 点击**现有库存**：查看剩余库存

    (4) 点击**出库记录**：查看出库记录

    (5) **输入出库编号**：筛选出库记录

    (6) 点击**购买记录**：查看购买记录

    (7) 选择**货物种类**，点击**根据货物种类搜索**：根据货物种类查询采购记录（Fruit、Veg）

    (8) 点击**快过期商品**：查询快要过期的采购记录

4. 在侧边导航栏点击点击**变更库存**

    (1) 点击**更改货物**：更改货物信息

    | 货物编号 | 货物品牌 | 货物种类 | 货物名称 | 保质期   | 地址     | 供应商   | 储存温度 | 储存湿度 |
    | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
    | V2023001 | 品牌A    | （选填） | （选填） | （选填） | （选填） | （选填） | （选填） | （选填） |

    (2）点击**物资采购**：添加采购记录

    | 货物编码 | 仓库编码 | 批次编码 | 采购数量 | 到达日期 | 生产日期 | 采购价格 | 退货原因 |
    | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
    | V2023002 | BJHD0001 | 230601   | （选填） | （选填） | （选填） | （选填） | （选填） |

    (3) 点击**物资出库**：添加出库记录

    | 出库编号 | 货物编码 | 仓库编码 | 出库时间 |
    | -------- | -------- | -------- | -------- |
    | OUT3     | F2023001 | BJCY0001 | （选填） |

5. 在侧边导航栏点击**新建仓库**：添加仓库

| 仓库编号 | 仓库位置 | 仓库名称       |
| -------- | -------- | -------------- |
| BJDX0001 | 大兴区   | 大兴区临时仓库 |

### 运输管理员

1.  在侧边导航栏点击**载具状态**：查看载具状态
2.  在侧边导航栏点击**运输详情**：查看运输详情
3.  在侧边导航栏点击**指派运输**：添加运输订单的具体信息（载具编号、预计送达时间）

| 订单编号    | 载具编号 | 仓库编码 | 目的地   | 预计送达时间 | 实际送达时间 |
| ----------- | -------- | -------- | -------- | ------------ | ------------ |
| 2023-06-062 | BJV03003 | BJCY0001 | （选填） | 2023-06-06   | 2023-06-06   |

3.  在侧边导航栏点击**购置载具**：添加载具信息

| 载具编号 | 载具类型 | 仓库编码 | 司机姓名 | 司机编号 |
| -------- | -------- | -------- | -------- | -------- |
| BJV03004 | 冷链货车 | BJHD0001 | gzy      | DRI02    |

### 人事管理员

1. 在侧边导航栏点击**人事信息**：查看员工信息，输入
2. 在侧边导航栏点击**发布招聘公告**：上传海报

### 财务管理员

1. 在侧边导航栏点击**财务信息**：查看财务信息，输入
2. 在侧边导航栏点击**转账**：添加转账记录

| 交易编码 | 金额 | 收款账户         | 付款账户           | 业务员编码 | 转账类型 |
| -------- | ---- | ---------------- | ------------------ | ---------- | -------- |
| 23060303 | 50   | zsh_bank_account | fresh_bank_account | 3          | 转出     |